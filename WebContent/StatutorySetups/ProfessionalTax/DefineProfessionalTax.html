<form id="pTaxForm" name="pTaxForm" novalidate ng-submit="submit"> 
<div class="container-fluid">
    <div class="col-md-12 well">
        <h3 class="cls_plainheader">Professional Tax</h3>
    	<div class="col-md-12">
	                <br>
        	<div class="panel panel-default" ng-show="transactionList">
				<div class="container">
					<h5 class="cls_plainheader"> Search : </h5>
					<div class="row">
						<div class="col-md-6 transactionList">
							<div class="form-group">
								<label for="transactionList" class="col-md-4 control-label">Transaction Date's :</label>
								<div class="col-md-6 select-box">
	                                <select  ng-model="transactionModel" ng-change="transactionDatesListChange()" ng-options="item.id as item.name for item in transactionDatesList " class="form-control" id="transactionModel" ng-disabled="readOnly">
	                                	<option value="">Select</option>
	                                </select>   
				                    <span class="input-group-btn">
										<label for="Select1" class="fa fa-caret-down"></label>
									</span>                        											
								</div>
							</div>
						</div>
					</div>
				</div>
				<hr class="pull-left" style="width: 105%" />
			</div>
                    
			<div class="panel panel-default">
               	<div class="sepr">
                	<div class="row">
                    	<div class="col-md-6">
                        	<div class="form-group is-empty">
                            	<label for="customerName" class="col-md-4 control-label required">Customer Name</label>
                            	<div class="col-md-8 select-box">
                                 	<select  ng-change="customerChange()"  ng-model="taxVo.customerId" ng-options="item.customerId as item.customerName for item in taxList.customerList" class="form-control" id="custName" name="custName()" ng-disabled="readOnly || onlyRead" required>
		 								<option value="">Select</option>
                                    </select> 
                                    <span class="input-group-btn">
										<label for="Select1" class="fa fa-caret-down"></label>
									</span>
                            	</div>
                        	</div>
							
							<div class="form-group is-empty">
                            	<label for="countryName" class="col-md-4 control-label required">Country Name</label>
                                   <div class="col-md-8 select-box">
									<select ng-change="countryChange()" ng-model="taxVo.countryId" ng-options="item.id as item.name for item in taxList.countryList" class="form-control" id="countryName" name="countryName" ng-disabled="readOnly || onlyRead" required>
										<option value="">Select</option>
                                    </select> 	  
                                    <span class="input-group-btn">
										<label for="Select1" class="fa fa-caret-down"></label>
									</span>                                  
                             	</div>
                             </div>
                                	
						</div>

						<div class="col-md-6">
                               <div class="form-group is-empty">
                                   <label for="companyName" class="col-md-4 control-label required">Company Name</label>
                                   <div class="col-md-8 select-box">
									<select ng-change="companyChange()"  ng-model="taxVo.companyId" ng-options="item.id as item.name for item in taxList.companyList" class="form-control" id="companyName" name= "companyName"ng-disabled="readOnly || onlyRead" required>
									 	<option value="">Select</option>
                                          </select>
                                          <span class="input-group-btn">
										<label for="Select1" class="fa fa-caret-down"></label>
									</span>
                               	</div>

							</div>
							
							<div class="form-group">
								<label for="locationName"  class="col-md-4 control-label required">Location Name</label>
								<div class="col-md-8 select-box">
									<select ng-change="validateProfessionalTax()" ng-model="taxVo.locationId" ng-options="item.locationId as item.locationName for item in taxList.locationsList" class="form-control"  id="locationName" name="locationName" ng-disabled="readOnly || onlyRead" required >
										<option value="">Select</option>
									</select>
									<span class="input-group-btn">
                                  		<label for="Select1" class="fa fa-caret-down"></label>
                                    </span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
           			
           
            <div class="panel panel-primary">
            	<div class="panel-heading">
					<h5>Define PT Rules</h5>
				</div>
                <div class="sepr">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="transactiondate" class="col-md-4 control-label required">Effective From Date</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" ng-model="taxVo.transactionDate" id="transactionDate" readonly="true" name="transactionDate" placeholder="Effective From Date &#xf073;" ng-disabled="readOnly"  required/>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Status" class="col-md-4 control-label required">Status</label>
                                <div class="col-md-8 select-box">
                                    <select id="Status" class="form-control" ng-model="taxVo.status" name="status" ng-disabled="readOnly" required>
                                        <option value="Y">Active</option>
                                        <option value="N">In Active</option>
                                    </select>
                                    <span class="input-group-btn">
										<label for="Select1" class="fa fa-caret-down"></label>
									</span>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="row">
                    	<div class="col-md-6">
                    		<div class=" col-md-6 radio radio-primary" >
								<label class="control-label "> <input type="radio" ng-model="defineBy" ng-checked="defineBy == 'state'"  value = "state" name="defineByState"  id = "defineByState" ng-disabled="readOnly">Define By State</label>
							 </div>
							 
						</div>
						<div class="col-md-6">
							 <div class=" col-md-6 radio radio-primary" >
								<label class="control-label "> <input type="radio"  value = "city" ng-checked="defineBy == 'city'"  ng-model="defineBy"   name="defineByStateAndCity"  id = "defineByStateAndCity" ng-disabled="readOnly">Define By State and City</label>
							 </div>
                    	</div>
                    </div>
                    
                    <div class = "row">
                    	
	                    <div class= "col-md-6">
		                    <div class="form-group">
									<label for="stateName"  class="col-md-4 control-label">State Name</label>
									<div class="col-md-8 select-box">
										<select  ng-model="taxVo.stateId" ng-options="item.id as item.name for item in taxList.statesList" class="form-control"  id="stateName" name="stateName" ng-disabled="readOnly">
											<option value="">Select</option>
										</select>
										<span class="input-group-btn">
	                                  		<label for="Select1" class="fa fa-caret-down"></label>
	                                    </span>
									</div>
							 </div>
							 
	                    	 <div class="form-group">
	                                <label for="frequency" class="col-md-4 control-label">Frequency</label>
	                                <div class="col-md-8 select-box">
	                                	<select class="form-control"  name="deductionFrequency" id="frequency" ng-model="taxVo.frequency" ng-options="item.id as item.name for item in list_frequency" ng-disabled="readOnly">
	                                		<option value = "" >Select</option>
	                                	</select>
	                                	<span class="input-group-btn">
											<label for="Select1" class="fa fa-caret-down"></label>
										</span>
	                                </div>
	                         </div>
                    	</div>
                    	<div class= "col-md-6" ng-show="defineBy == 'city'">
                    		<div class="form-group">
								<label for="city" class="col-md-4 control-label">City Name</label>
								<div class="col-md-8">
									 <input type="text" class="form-control" id="city" placeholder="City Name" name = "city" ng-model="taxVo.city" maxlength="45" ng-disabled="readOnly" />
									
								</div>
							</div>
                    	</div>
                    </div>
                </div>
                <br/>
                <div class="panel panel-primary">
	            	<div class="panel-heading">
						<h5>PT Slab List</h5>
					</div>
	                <div class="sepr">
	                	<div>
	                        <table class="table table-striped table-hover" id="taxTable">
	                            <thead>
	                                <tr>                                   
	                                    <th>Slab No</th>
	                                    <th>Slab From</th> 
	                                    <th>Slab To</th>
	                                    <th>Amount</th>
	                                    <th>PT Month Based On Frequency</th>  
	                                    <th>PT Amount</th>   
	                                    <td> </td>
	                                    <td></td>
	                                    <td><i class="fa fa-plus addrow" data-toggle="modal" data-target="#myModal" ng-click="plusIconAction()"  ng-disabled="readOnly"> </i></td>
										<td></td>                               
	                                </tr>
	                            </thead>
	                            <tbody ng-repeat="i in taxList.taxRulesList">
	                            	<td> {{$index+1}} </td>
	                            	<td> {{i.slabFrom}}</td>
	                            	<td> {{i.slabTo}} </td>
	                            	<td> {{i.amount}} </td>
	                            	<td> {{i.ptMonth}} </td>
	                            	<td> {{i.ptAmount}} </td>
	                            	<td><input type="hidden"  ng-model="i.professionalTaxInfoId"></td>
	                            	<td><i ng-click="DeleteTax($index)" class="fa fa-trash" ng-disabled="readOnly" ></i></td> 
	                            	<td><input type="hidden"  ng-model="i.professionalTaxId"></td>
									<td><i ng-click="EditTax($index)" class="fa fa-edit" data-toggle="modal"  data-target="#myModal"  ng-disabled="readOnly"></i></td>
									
	                            </tbody>
	                        </table>
	
	                    </div>
                	</div>
        		</div>
        		<br/>
			</div>
			
	         <div class="btn-group btn-group-right pull-right">
				 <a href="javascript:void(0)" class="btn btn-primary"  ng-show="saveBtn && buttonArray.includes('SAVE')" ng-click="enable || save($event)">Save</a>
				 <a href="javascript:void(0)" class="btn btn-primary"  ng-show="updateBtn && buttonArray.includes('UPDATE')" ng-click="updateBtnAction()">Update</a>
				 <a href="javascript:void(0)" class="btn btn-primary"  ng-click="viewOrEditHistory()" ng-show="viewOrUpdateBtn && buttonArray.includes('VIEW HISTORY')">View Or Update History</a>
				 <a href="javascript:void(0)" class="btn btn-primary"  ng-show="correcttHistoryBtn && buttonArray.includes('CORRECT HISTORY')" ng-click="enable || correctHistorySave($event)">Correct History</a>
				 <a href="javascript:void(0)" class="btn btn-primary"  ng-show="cancelBtn" ng-click="cancelBtnAction($event)"> Cancel </a>
				 <button class="btn btn-primary" ng-show="resetBtn" type="reset"> Reset </button>
				 <a href="#/searchProfessionalTax" class="btn btn-primary">Return To Search</a>
			</div>

    	</div>
	</div>
	<div class="container-fluid">
	    <div class="navbar navbar-default navbar-fixed-bottom text-center" style="min-height: 15px; padding: 0px;">
	        <div class="container text-right" style="">
	            <label class="control-label text-center" style="color: white; margin: 0px; font-size: 14px;">@Copyright</label>
	        </div>
	    </div>
	</div>
</div>
</form>

<form id="ptSlabForm">
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="fun_Close()">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Define PT Slab</h4>
            </div>
            <div class="modal-body">
                <div class="panel panel-default">
                    <div class="sepr">
						<div class="row">
							<div class="col-md-6">
								 <div class="form-group">
                                    <label for="slabFrom" class="col-md-4 control-label ">Slab From</label>
                                    <div class="col-md-8">
                                        <input type="text" onchange="angular.element(this).scope().validatePrice()" class="form-control decimalNumbers" maxlength=11  id="slabFrom" ng-model="tax.slabFrom" placeholder="Slab From" name="slabFrom" ng-disabled="readOnly"  />
                                    </div>
                                </div>
                             </div>
                             
                             <div class="col-md-6">
                            
                            	<div class="form-group">
                                    <label for="slabTo" class="col-md-4 control-label">Slab To</label>
                                    <div class="col-md-8">
                                        <input type="text" onchange="angular.element(this).scope().validatePrice()" maxlength=11 class="form-control decimalNumbers" id="slabTo" ng-model="tax.slabTo" placeholder="Slab To" name = "slabTo" ng-disabled="readOnly"/>
                                    </div>
                                </div>
                             </div>
                        <div> 
                        <div class="row">
                        	<div class = "col-md-6">
                                <div class="form-group">
                                    <label for="ptMonth" class="col-md-4 control-label">PT Month Based On Frequency</label>
                                    <div class="col-md-8 select-box">
                                        <select  ng-model="tax.ptMonth" ng-options="item.id as item.name for item in list_months" class="form-control"  id="ptMonth" name="ptMonth" ng-disabled="readOnly">
											<option value="">Select</option>
										</select>
										<span class="input-group-btn">
											<label for="Select1" class="fa fa-caret-down"></label>
										</span>

                                    </div>
                            	</div>
                            </div>
                            <div class = "col-md-6">
                                <div class="form-group" ng-show="tax.ptMonth == 'All Months'">
                                    <label for="amount" class="col-md-4 control-label">Amount</label>
                                    <div class="col-md-8">
                                        <input type="text"  class="form-control decimalNumbers" id="amount" ng-model="tax.amount"  maxlength=11 name="amount" placeholder="Amount" ng-disabled="readOnly"/>
                                    </div>
                                </div>
                            
                                <div class="form-group" ng-show="tax.ptMonth != null && tax.ptMonth != undefined && tax.ptMonth != '' && tax.ptMonth != 'All Months' ">
                                    <label for="ptAmount" class="col-md-4 control-label">PT Amount</label>
                                    <div class="col-md-8">
                                        <input type="text" onchange="angular.element(this).scope().validatePrice()" maxlength=11 class="form-control decimalNumbers" id="ptAmount" placeholder="PT Amount" name = "ptAmount" ng-model="tax.ptAmount" ng-disabled="readOnly" />
                                    </div>
                                </div>
                            </div>
                        </div>
                       <!--  <div class= "row">
                        	<div class = "col-md-6">
                                <div class="form-group">
                                    <label for="amount" class="col-md-4 control-label">Amount</label>
                                    <div class="col-md-8">
                                        <input type="text" onchange="angular.element(this).scope().validatePrice()" class="form-control decimalNumbers" id="amount" ng-model="tax.amount" name="amount" placeholder="Amount" ng-disabled="readOnly || !isAllMonths"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="ptAmount" class="col-md-4 control-label">PT Amount</label>
                                    <div class="col-md-8">
                                        <input type="text" onchange="angular.element(this).scope().validatePrice()" class="form-control decimalNumbers" id="ptAmount" placeholder="PT Amount" name = "ptAmount" ng-model="tax.ptAmount" ng-disabled="readOnly || isAllMonths" />
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-show = "popUpSave" ng-click="saveTax()">Save changes</button>
                 <button type="button" class="btn btn-primary" ng-show = "popUpUpdate" ng-click="updateTax($event)">Update changes</button>
                <button type="button" class="btn btn-warning" ng-click="fun_Close()">Close</button>
            </div>
        </div>

    </div>
</div>
</form>